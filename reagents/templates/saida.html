{% extends 'base.html' %}
{% block page_title %}Controle de Saida{% endblock %}

{% block extra_css %}
<style>
    .form-shell {
        max-width: 760px;
        width: 100%;
        margin: 20px auto;
    }

    .form-shell h2 {
        text-align: center;
        margin-bottom: 24px;
    }

    .stack-form .form-row {
        flex-direction: column;
        gap: 14px;
    }

    .stack-form .form-group {
        min-width: 100%;
    }

    .stack-form label {
        display: block;
        margin-bottom: 6px;
        font-weight: 600;
    }

    .stack-form input,
    .stack-form select {
        width: 100%;
        min-height: 42px;
        border: 1px solid var(--border-color);
        border-radius: 10px;
        padding: 0 12px;
        background: #fff;
    }

    .stack-form .form-buttons {
        margin-top: 20px;
        gap: 12px;
    }

    .stack-form .form-buttons .btn {
        min-width: 160px;
    }
</style>
{% endblock %}

{% block content %}
<div class="screen active">
    <div class="form-container form-shell">
        <h2>Controle de Saida</h2>

        <form method="post" class="stack-form">
            {% csrf_token %}

            <div class="form-row">
                <div class="form-group">
                    <label>Reagente:</label>
                    <select name="reagente" required>
                        <option value="">Selecione...</option>
                        {% for reagente in reagentes %}
                        <option value="{{ reagente.id }}"
                            {% if reagente_sel == reagente.id|stringformat:"s" %}selected{% endif %}>
                            {{ reagente.reagente_nome }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label>Requisitante:</label>
                    <input type="text" name="requisitante" required>
                </div>
                <div class="form-group">
                    <label>Quantidade:</label>
                    <input type="number" name="quantidade" min="1" max="{{ qtd_disponivel }}" required>
                </div>
                <div class="form-group">
                    <label>Coordenacao:</label>
                    <select name="coordenacao" required>
                        <option value="">Selecione...</option>
                        {% for coordenacao in coordenacoes %}
                        <option value="{{ coordenacao.id }}"
                            {% if coord_sel == coordenacao.id|stringformat:"s" %}selected{% endif %}>
                            {{ coordenacao.nome }}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label>Observacao:</label>
                    <input type="text" name="observacao">
                </div>
            </div>

            <div class="form-buttons">
                <button type="reset" class="btn btn-clear">Limpar</button>
                <button type="submit" class="btn btn-add">Adicionar</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
